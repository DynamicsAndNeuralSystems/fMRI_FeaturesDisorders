univariate_feature_set <- "catch22"
pairwise_feature_set <- "pyspi_19"
subject_csv <- "participants.csv"
github_dir <- "/headnode1/abry4213/github/fMRI_FeaturesDisorders/"
rdata_path <- "/headnode1/abry4213/data/UCLA_Schizophrenia/Rdata/"
data_path <- "/headnode1/abry4213/data/UCLA_Schizophrenia/"
dataset_ID <- "UCLA_Schizophrenia"
noise_procs <- c("AROMA+2P", "AROMA+2P+GMR", "AROMA+2P+DiCER")
set.seed(127)
# Load tidyverse
library(tidyverse)
helper_script_dir = "../helper_functions/"
source(paste0(helper_script_dir, "Linear_SVM.R"))
#-------------------------------------------------------------------------------
# Source helper scripts
#-------------------------------------------------------------------------------
# Set working directory to file location
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
helper_script_dir = "../helper_functions/"
source(paste0(helper_script_dir, "Linear_SVM.R"))
source(paste0(helper_script_dir, "Null_distributions.R"))
subjects_to_use <- readRDS(paste0(data_path, dataset_ID, "_samples_with_univariate_",
univariate_feature_set,
"_and_pairwise_", pairwise_feature_set,
".Rds"))
if (!file.exists(paste0(rdata_path, dataset_ID, "_samples_per_10_folds.Rds"))) {
# Make folds
set.seed(127)
k = 10
sample_folds <- caret::createFolds(subjects_to_use$Diagnosis, k = k, list = TRUE, returnTrain = FALSE)
# Save to Rds file
saveRDS(sample_folds, file=paste0(rdata_path, dataset_ID, "_samples_per_10_folds.Rds"))
} else {
sample_folds <- readRDS(paste0(rdata_path, dataset_ID, "_samples_per_10_folds.Rds"))
}
